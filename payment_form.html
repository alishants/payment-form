<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top One Club - Payment Process</title>
    <style>
        /* Ваши стили остаются без изменений */
    </style>
</head>
<body>
    <div class="container">
        <div class="step-indicator">
            <div class="step">
                <div class="step-circle active checked"></div>
                <div class="step-label">Selection</div>
            </div>
            <div class="step">
                <div class="step-circle"></div>
                <div class="step-label">Data</div>
            </div>
            <div class="step">
                <div class="step-circle"></div>
                <div class="step-label">Payment</div>
            </div>
        </div>

        <div id="step1" class="step-content active">
            <h2>Top One Club / 1 Month</h2>
            <div>Price - $25</div>
            <label class="email-label">Your Email</label>
            <input type="email" class="email-input" placeholder="Enter your email" id="email" required>
            <div class="error-message" id="error-message">Please enter a valid email address.</div>
            <button class="button" onclick="proceedToStep2()">Proceed</button>
        </div>

        <div id="step2" class="step-content">
            <h2>Verify Your Data</h2>
            <div class="info-box">Price - $25</div>
            <div class="info-box">Product Name:<br>Top One Club / 1 Month</div>
            <div class="info-box">Your E-mail: <span id="emailDisplay"></span></div>
            <button class="button" onclick="redirectToPayment()">Proceed to Payment</button>
            <button class="button" style="background-color: #444; color: white;" onclick="goBack()">Go Back</button>
        </div>

        <div id="step3" class="step-content">
            <h2>Waiting for Payment Confirmation...</h2>
            <div class="animated-spinner" id="spinner">
                <div class="spinner"></div>
            </div>
            <div class="payment-container">
                <div class="info-box">Price - $25</div>
                <div class="info-box">Product Name:<br>Top One Club / 1 Month</div>
            </div>
        </div>
    </div>

    <script>
        function proceedToStep2() {
            const email = document.getElementById('email').value;
            const errorMessage = document.getElementById('error-message');

            if (!validateEmail(email)) {
                errorMessage.style.display = 'block'; // Показать сообщение об ошибке
                return;
            }

            errorMessage.style.display = 'none'; // Скрыть сообщение об ошибке
            document.getElementById('step1').classList.remove('active');
            document.getElementById('step2').classList.add('active');
            document.getElementById('emailDisplay').innerText = email;
        }

        function redirectToPayment() {
            // Здесь должен быть URL для редиректа на страницу оплаты
            const email = document.getElementById('email').value;
            const paymentUrl = 'https://example.com/payment'; // Замените на реальный URL
            window.location.href = `${paymentUrl}?email=${encodeURIComponent(email)}`; // Передаем email в качестве параметра
        }

        function goBack() {
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step1').classList.add('active');
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Регулярное выражение для валидации email
            return re.test(String(email).toLowerCase());
        }
    </script>
</body>
</html>
