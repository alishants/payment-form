<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Process</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f3f4f6;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            width: 70%; /* –£–º–µ–Ω—å—à–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã –æ–∫–Ω–∞ –Ω–∞ 30% */
        }

        .step {
            display: none;
        }

        .active {
            display: block;
        }

        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .step-circle.active {
            background-color: #6200ea;
            color: white;
        }

        .step-circle.checked {
            background-color: #6200ea;
            color: white;
        }

        .step-text {
            text-align: center;
            margin-top: 10px;
            position: absolute;
            bottom: -30px; /* –°–¥–≤–∏–≥ —Ç–µ–∫—Å—Ç–∞ –≤–Ω–∏–∑ */
            left: 50%;
            transform: translateX(-50%);
        }

        .info-box {
            margin-top: 20px;
            padding: 10px;
            background-color: #e0f7fa;
            border: 1px solid #b2ebf2;
            border-radius: 5px;
        }

        input[type="email"] {
            width: 100%; /* –°–¥–µ–ª–∞—Ç—å —à–∏—Ä–∏–Ω—É 100% */
            padding: 10px;
            margin: 5px 0 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .button {
            background-color: #6200ea;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .spinner {
            display: none;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="step active" id="step1">
            <div class="step-indicator">
                <div class="step-circle active"><span>1</span></div>
                <div class="step-circle"><span>2</span></div>
                <div class="step-circle"><span>3</span></div>
            </div>
            <div class="step-text">Selection</div>
            <div class="info-box">Price - $25</div>
            <input type="email" id="email" placeholder="Enter your email" required>
            <div id="error-message" style="color: red; display: none;">Please enter a valid email address.</div>
            <button class="button" onclick="proceedToStep2()">Proceed to Step 2</button>
        </div>

        <div class="step" id="step2">
            <div class="step-indicator">
                <div class="step-circle checked"><span>1</span></div>
                <div class="step-circle active"><span>2</span></div>
                <div class="step-circle"><span>3</span></div>
            </div>
            <div class="step-text">Your E-mail:</div>
            <div id="emailDisplay" class="info-box"></div>
            <button class="button" onclick="goBack()">Back</button>
            <button class="button" onclick="confirmPayment()">Confirm Payment</button>
        </div>

        <div class="step" id="step3">
            <div class="step-indicator">
                <div class="step-circle checked"><span>1</span></div>
                <div class="step-circle checked"><span>2</span></div>
                <div class="step-circle active"><span>3</span></div>
            </div>
            <div class="step-text">Payment in progress...</div>
            <div class="spinner">üîÑ</div>
            <div class="info-box">Payment successful! Thank you for your order!</div>
        </div>
    </div>

    <script>
        function proceedToStep2() {
            const emailInput = document.getElementById('email');
            const email = emailInput.value;
            const errorMessage = document.getElementById('error-message');

            if (!validateEmail(email)) {
                errorMessage.style.display = 'block'; // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                return;
            } else {
                errorMessage.style.display = 'none'; // –°–∫—Ä—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
            }

            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ email –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –≤—Ç–æ—Ä–æ–º —à–∞–≥–µ
            document.getElementById('emailDisplay').textContent = email;

            document.getElementById('step1').classList.remove('active');
            document.getElementById('step2').classList.add('active');

            // Update step indicators
            updateStepIndicator(1);
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(String(email).toLowerCase());
        }

        function goBack() {
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step1').classList.add('active');

            // Update step indicators
            updateStepIndicator(0);
        }

        function confirmPayment() {
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step3').classList.add('active');

            // Start the payment animation
            paymentAnimationInterval = setInterval(() => {
                document.querySelector('.spinner').style.display = 'block';
            }, 1000);
            updateStepIndicator(2);
        }

        function updateStepIndicator(step) {
            const circles = document.querySelectorAll('.step-circle');
            for (let i = 0; i < circles.length; i++) {
                circles[i].classList.remove('active', 'checked');
            }
            for (let i = 0; i <= step; i++) {
                circles[i].classList.add('checked');
            }
            circles[step].classList.add('active');
        }
    </script>
</body>
</html>
